<html>

<head>
    <!-- UIKit styles -->
    <link rel="stylesheet" href="uikit/dist/css/uikit.min.css">

    <link rel="stylesheet" href="style.css">

    <!-- Vue.js  -->
    <!-- Development version, includes helpful console warnings -->
    <!-- script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script -->
    <!-- Production version, optimized for size and speed -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
</head>

<!-- Own library -->
<script type="module" src="bundle.js"></script>

<script src="main.js"></script>

<body onload="start()">
    <span id="app">
        <div id="loading" v-if="!initialized">
            <div class="mainheader padded">Loading...</div>
            <div class="center smallfont padded">
                <div v-text="repoSearchProgress"></div>
            </div>
        </div>
        <div id="main-init" style="display: none;">
            <div id="header" class="padded flexrow">
                <span id="menu-left" class="flexrow padded">
                    <img src="img/trust_logotype.svg" />
                </span>
                <span id="menu-right" class="padded" v-show="appMode !== 'search'">
                    <span v-show="!userToken">
                        <button v-on:click="window.location.href = loginActionUrl()">Log in with GitHub</button>
                    </span>
                    <span v-show="userToken" class="tooltip">
                        <button v-on:click="logout()" v-text="`Logged in as ${loginName}`"></button>
                        <span class="tooltiptext">Log out</span>
                    </span>
                </span>
            </div>
            <div>
                <div class="main">
                    <div id="menu-left" class="flexrow" v-show="appMode === 'contributor' || appMode === 'maintainer'">
                        <span class="tab-select selection-item" v-on:click="selectTab('tab-add')"
                            v-bind:class="{'selected-item': activeTab == 'tab-add'}">Add New Token</span>
                        <span class="tab-select selection-item" v-on:click="selectTab('tab-prs')"
                            v-bind:class="{'selected-item': activeTab == 'tab-prs'}" v-show="appMode === 'maintainer'">Pull Requests</span>
                        <span class="tab-select selection-item" v-on:click="selectTab('tab-search')"
                            v-bind:class="{'selected-item': activeTab == 'tab-search'}">Token Search</span>
                    </div>
                    <div id="tab-pulls" class="tab-pane" v-show="appMode === 'maintainer' && activeTab == 'tab-prs'">
                        <warning-no-ghuser v-show="!userToken">
                        </warning-no-ghuser>
                        <main-pulls :user-token="userToken" :login-name="loginName" :repo="repo" v-show="userToken">
                        </main-pulls>
                    </div>
                    <main-token-search id="tab-search" :user-token="userToken" :login-name="loginName" :repo="repo"
                        v-show="activeTab == 'tab-search'">
                    </main-token-search>
                    <div id="tab-add" class="tab-pane" v-show="activeTab == 'tab-add'">
                        <warning-no-ghuser v-show="!userToken">
                        </warning-no-ghuser>
                        <div v-show="userToken">
                            <warning-no-forkrepo :login-name="loginName" :user-token="userToken" v-show="!repo">
                            </warning-no-forkrepo>
                            <main-add-token :user-token="userToken" :login-name="loginName" :repo="repo" v-show="repo">
                            </main-add-token>
                        </div>
                    </div>
                </div>
                <div hidden="true">
                    <img id="image-placeholder-for-size-computation" src="img/emptylogo.png" />
                </div>
            </div>
            <div id="footer" class="padded">
                <span id="footer-left" class="padded">
                </span>
                <span id="footer-right" class="padded">
                    <span v-show="appMode === 'maintainer'">
                        <span id="version" class="smallfont" v-text="'v'+version"></span>
                    </span>
                    <!-- button v-show="userToken" v-on:click="toggleMaintainerMode">{{this.maintainerMode ? 'Contributor Mode' : 'Maintainer Mode'}}</button -->
                </span>
            </div>
        </div>
    </span>
</body>

</html>
